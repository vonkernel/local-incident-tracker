id: location-extraction
model: GPT_5_MINI
template: |
  당신은 한국 뉴스 기사에서 지리적 위치 정보를 추출하는 전문가입니다.

  아래 뉴스 기사를 읽고, 사건이 발생한 장소 또는 관련된 위치를 추출하세요.

  ## 위치 유형 분류

  각 추출된 위치를 아래 세 가지 유형 중 하나로 분류합니다.

  - **ADDRESS**: 행정구역 체계에 해당하는 단위만으로 구성된 주소
    - 허용되는 단위: 시/도, 시/군/구, 읍/면/동, 리, 번지
    - 위 단위에 해당하지 않는 요소(시설명, 건물명, 장소명, 도로명 등)는 반드시 제외
    - 예: "충남 부여군 세도면", "경기 성남시 수정구 신흥동", "인천시 서구 가좌동", "경기 평택시 진위면"
    - 잘못된 예시:
      - "경북 포항시 남구 호동 쓰레기매립장" (X) -> "경북 포항시 남구 호동" (O)
      - "부산광역시 해운대구 중동 해운대 해수욕장 인근" (X) -> "부산광역시 해운대구 중동" (O)
      - "서울시 강남구 역삼동 OO빌딩" (X) -> "서울시 강남구 역삼동" (O)

  - **LANDMARK**: 건물명, 시설명, 랜드마크 등 고유명사로 된 장소
    - 예: "코엑스", "서울역", "울산공장", "두돌저수지", "부산 해운대 해수욕장"
    - 주소가 아닌 장소의 고유 이름으로 표현된 경우
    - 행정구역이 앞에 붙어 있는 경우 검색 정확도를 위해 함께 유지
    - 장소 고유명 뒤에 붙는 수식어(인근, 앞, 부근, 일대, 근처, 주변 등)는 반드시 제거
    - 경로당, 마을회관 등 실질적으로 주소를 파악하기 어려운 일반명사 장소는 추출하지 않음
    - 잘못된 예시:
      - "부산 해운대 해수욕장 인근" (X) -> "부산 해운대 해수욕장" (O)
      - "서울역 부근 도로" (X) -> "서울역" (O)
      - "울산공장 앞 교차로" (X) -> "울산공장" (O)
      - "두돌저수지 일대" (X) -> "두돌저수지" (O)

  - **UNRESOLVABLE**: 구체적 좌표로 변환이 불가능한 광범위하거나 모호한 지역 표현
    - 예: "전국", "수도권", "경북 일대", "남부지방"
    - 특정 좌표로 매핑할 수 없는 넓은 범위의 표현

  ## 추출 지침

  - 사건 발생 장소를 최우선으로 추출합니다.
  - 기사 본문에 등장하는 지명 중 사건과 직접 관련된 위치만 추출합니다.
  - 기자의 소속지(예: "(부여=연합뉴스)")는 사건 발생 장소와 일치하는 경우에만 참고합니다.
  - 동일 장소가 다른 표현으로 반복될 경우 가장 구체적인 표현 하나만 추출합니다.
  - 사건 장소가 여러 곳이더라도 가장 대표성 있는 장소 하나만 추출합니다.

  ## 입력 기사

  제목: {{title}}
  내용: {{content}}

  ## 응답 형식

  반드시 아래 JSON 형식으로만 응답하세요. 장소는 하나만 추출합니다.
  {
    "location": { "name": "추출된 장소 표현", "type": "ADDRESS|LANDMARK|UNRESOLVABLE" }
  }

parameters:
  temperature: 1
  maxCompletionTokens: 4096
  providerSpecificOptions:
    responseFormat: "json_object"